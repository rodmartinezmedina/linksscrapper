import{Runtime as e}from"../root/root.js";const t=new Map;function o(){return document.documentElement.classList.contains("-theme-with-dark-background")||window.matchMedia("prefers-color-scheme: dark").matches}var r=Object.freeze({__proto__:null,getStyleSheets:function(o,{patchThemeSupport:r=!1}={}){const n=t.get(o);if(n&&n.patchThemeSupport===r)return n.sheets;if(!self.Runtime)return[];const s=self.Runtime.cachedResources[o]||"";if(!s)throw new Error(o+" not preloaded.");const c=new CSSStyleSheet;c.replaceSync(s);const h=self.UI&&self.UI.themeSupport.themeStyleSheet(o,s);if(!r||!h)return t.set(o,{patchThemeSupport:r,sheets:[c]}),[c];const p=new CSSStyleSheet;return p.replaceSync(h+"\n"+e.Runtime.resolveSourceURL(o+".theme")),t.set(o,{patchThemeSupport:r,sheets:[c,p]}),[c,p]},DARK_MODE_CLASS:".component-in-dark-mode",isInDarkMode:o,applyDarkModeClassIfNeeded:function(){return o()?".component-in-dark-mode".slice(1):""}});export{r as GetStylesheet};
